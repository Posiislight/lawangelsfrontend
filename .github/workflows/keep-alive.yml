# Keep Backend Alive
# Pings the Render backend every 10 minutes to prevent cold starts.
# Render free tier spins down after 15 minutes of inactivity.

name: Keep Backend Alive

on:
  schedule:
    # Run every 10 minutes
    - cron: '*/10 * * * *'
  
  # Allow manual trigger
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Backend Health Endpoint
        run: |
          echo "Pinging backend to keep it alive..."
          curl -s -o /dev/null -w "HTTP Status: %{http_code}\n" https://quiz-backend.onrender.com/api/health/ || echo "Backend may be starting up"
          echo "Done!"
